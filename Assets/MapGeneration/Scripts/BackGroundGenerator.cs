using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BackGroundGenerator : MonoBehaviour {

	public int[,] backgroundTitle0;
	public int[,] backgroundTitle1;
	public int[,] backgroundTitle2;
	public int[,] backgroundTitle3;

	public GameObject[] listOfBlock;

	private int backgroundId = 0;

	// Use this for initialization
	void Start () {
									   //  1   2   3   4   5   6   7   8   9  10  11  12  13
		backgroundTitle0 = new int[,]  { {  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //1 
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //2 
										{  0,  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1}, //3 
										{  0,  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //4 
										{  0,  0,  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //5 
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //6 
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //7 
										{ -1, -1, -1, -1, -1,  2, -1, -1, -1, -1,  2, -1, -1}, //8 
										{  1,  1,  1,  1,  1,  0,  1,  1,  1,  1,  0,  1,  1}, //9
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //10 
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //11  
										{  0,  0,  0,  0,  0,  0,  0,  0, -1, -1, -1,  0,  0}, //12  
										{  0,  0,  0,  0,  0,  0,  0,  0, -1, -1, -1,  0,  0}, //13  
										{  0,  0, -1, -1, -1,  0,  0,  0,  4,  4,  4,  0,  0}, //14  
										{  0,  0, -1, -1, -1,  0,  0,  0,  0,  0,  0,  0,  0}, //15  
										{  0,  0, -1, -1, -1,  0,  0,  0,  0,  0,  0,  0,  0}, //16  
										{  0,  0, -1,  2, -1,  0,  0, -1, -1, -1, -1, -1,  0}, //17  
										{  0,  0,  1,  0,  1,  0,  0,  5,  5,  5,  5,  5,  0}, //18  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //19  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //20								
									  };

									   //  1   2   3   4   5   6   7   8   9  10  11  12  13
		backgroundTitle1 = new int[,]  { {  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //1 
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //2 
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //3 
										{  0,  0,  0, -1, -1,  0,  0,  0,  0, -1, -1,  0,  0}, //4 
										{  0,  0, -1, -1, -1, -1,  0,  0, -1, -1, -1, -1,  0}, //5 
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //6 
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //7 
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //8 
										{  1,  1,  4,  1,  1,  4,  1,  1,  4,  1,  1,  4,  1}, //9
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //10 
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //11  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //12  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //13  
										{  0, -1, -1, -1, -1, -1,  0, -1, -1, -1, -1, -1,  0}, //14  
										{  0, -1, -1, -1, -1, -1,  0, -1, -1, -1, -1, -1,  0}, //15  
										{  0, -1, -1, -1, -1, -1,  0, -1, -1, -1, -1, -1,  0}, //16  
										{  0, -1, -1,  2, -1, -1,  0, -1, -1,  2, -1, -1,  0}, //17  
										{  0,  1,  1,  0,  1,  1,  0,  1,  1,  0,  1,  1,  0}, //18  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //19  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //20								
									  };

									   //  1   2   3   4   5   6   7   8   9  10  11  12  13
		backgroundTitle2 = new int[,]  { {  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //1 
										{  0,  0,  0,  0,  0,  0, -1, -1,  0,  0,  0,  0,  0}, //2 
										{  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //3 
										{  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //4 
										{  0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //5 
										{  0, -1, -1, -1,  2, -1, -1, -1, -1,  2, -1, -1, -1}, //6 
										{  0,  1,  1,  1,  0,  3,  3,  3,  3,  0,  1,  1,  1}, //7 
										{  0,  0,  0,  0,  0, -1, -1, -1, -1,  0,  0,  0,  0}, //8 
										{  0,  0,  0,  0,  0, -1, -1, -1, -1,  0,  0,  0,  0}, //9
										{  0,  0,  0,  0,  0, -1, -1, -1, -1,  0,  0,  0,  0}, //10 
										{  0,  0,  0,  0,  0, -1, -1, -1, -1,  0,  0,  0,  0}, //11  
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //12  
										{ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, //13  
										{  1,  1,  1, -1,  1,  1,  1,  1,  1,  1,  1,  1,  1}, //14  
										{  0,  0,  0, -1,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //15  
										{  0,  0,  0, -1,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //16  
										{  0,  0,  0,  4,  0,  0,  0,  0,  0,  0,  0,  0,  0}, //17  
										{  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, -1}, //18  
										{  0,  0,  0,  0, -1, -1, -1,  0,  0,  0,  0, -1, -1}, //19  
										{  0,  0,  0,  0,  5,  5,  5,  0,  0,  0, -1, -1, -1}, //20								
									  };
		
		InstantiateBackground();
	}

	public void InstantiateBackground()
	{
        foreach (Transform child in this.transform)
        {
            GameObject.Destroy(child.gameObject);
        }

		int[,] backgroundCurrentTitle;
		switch (backgroundId)
		{
			case 0 : 
				backgroundCurrentTitle = backgroundTitle0;
				break;
			case 1 : 
				backgroundCurrentTitle = backgroundTitle1;
				break;
			case 2 : 
				backgroundCurrentTitle = backgroundTitle2;
				break;
			default:
				backgroundCurrentTitle = backgroundTitle0;
				break;
		}

		for (int i = 0; i < 20; i++) {
			for (int j = 0; j < 13; j++) {

				int blockId = backgroundCurrentTitle[i,j];
				if(blockId != -1){
					GameObject.Instantiate(listOfBlock[blockId], new Vector3(j, -i, 2.0f) + transform.position, Quaternion.identity, transform);
                	GameObject.Instantiate(listOfBlock[blockId], new Vector3(25 - j, -i, 2.0f) + transform.position, Quaternion.identity, transform);
				}
			}
		}

		backgroundId++;
		backgroundId = backgroundId % 3;
	}
}
